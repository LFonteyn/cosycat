(js/Date. (js/Date))
(def date-str (js/Date))
date-str
(js/Date. date-str)
js/user
js/username
last
(cleebo.localstorage/recover-all-db-keys)
 (js->clj (.keys js/Object js/localStorage))
(first (js->clj (.keys js/Object js/localStorage)))
(js/Date. (first (js->clj (.keys js/Object js/localStorage))))
(.toLocaleString (js/Date. (first (js->clj (.keys js/Object js/localStorage)))) "en-US")
(cleebo.localstorage/recover-all-db-keys)
(.toLocaleString (js/Date. (first (js->clj (.keys js/Object js/localStorage)))) "en-US")
(js/Date. (first (js->clj (.keys js/Object js/localStorage))))
 (js->clj (.keys js/Object js/localStorage))
(keys {})
(intp (hash-set) '({} {} nil))
(into (hash-set) '({} {} nil))
(keys nil)
(map vector (map vector (range 10)))
(concat [:a] [:b] (map vector (map vector (range 10)))
)
(concat [[:a]] [[:b]] (map vector (map vector (range 10))))
(concat [[[:a]]] [[[:b]]] (map vector (map vector (range 10))))
({:a "a"} :a)
(:a {:a "a"})
(some :a [{:a "a"} {:b "b"}])
(some :c [{:a "a"} {:b "b"}])
(some :c [{:a "a" :b "b"} {:b "b"}])
(some :a [{:a "a" :b "b"} {:b "b"}])
(filter :a [{:a "a" :b "b"} {:b "b"}])
(first (filter :a [{:a "a" :b "b"} {:b "b"}])
)
(first (filter :b [{:a "a" :b "b"} {:b "b"}]))
(first (filter :c [{:a "a" :b "b"} {:b "b"}]))
(first (filter "a" [{"a" "a" :b "b"} {:b "b"}]))
(first (filter #(get "a" %) [{"a" "a" :b "b"} {:b "b"}]))
(first (filter #(get % "a") [{"a" "a" :b "b"} {:b "b"}]))
(set #{1 2 3})
(seq #{1 2 3})
(concat [[[:a]]] [[[:b]]] (map vector (map vector (range 10))))
(into [[[:a]]] [[[:b]]] (map vector (map vector (range 10))))
(concat [[[:a]]] [[[:b]]] (map vector (map vector (range 10))))
(concat [[:a]] [[:b]] (map vector (map vector (range 10))))
(concat [[:a]] [[:b]] (map vector (range 10)))
but-last
butlast
(butlast (range 10) 2)
(butlast (range 10))
(droplast
)
(drop-last 0 (range 10)
)
(drop-last -1 (range 10))
(drop-last 4 (range 10))
(figwheel-sidecar.repl-api/reset-autobuild)
cljs/:quit
:cljs/quit
(figwheel-sidecar.repl-api/reset-autobuild)
(schema.core/coerce)
(schema.coerce/coercer )
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(let [{:keys [a b] :as x} nil] [a b])
(if-let [{:keys [a b] :as x} nil] [a b] "NIL!!")
(run)
(cleebo.utils/->int "a")
(reset)
(run)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(drop-while #(neg? (:id %)) [{:id -1} {:id -1} {:id 2}])
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(figwheel-sidecar.repl-api/cljs-repl)
(.parseInt "a")
(js/parseInt "a")
(js->clj (js/parseInt "a"))
(nil? (js/parseInt "a"))
(class (js/parseInt "a"))
(js/parseInt "a")
(if-let [a (js/parseInt "a")] [a])
(if-let [a (js/parseInt "a")] [a] "a")
(js/isNaN (js/parseInt "a"))
(int "a")
(int "1")
:cljs/quit
(int "1")
(int \1)
(figwheel-sidecar.repl-api/cljs-repl)
(-> "1" js/parseInt js/isNaN)
(-> "a" js/parseInt js/isNaN)
(for [a (range 10) :when (< 2 a)] [a])
:cljs/quit
(figwheel-sidecar.repl-api/cljs-repl)
:cljs/quit
(figwheel-sidecar.repl-api/reset-autobuild)
(run)
(reset)
(cleebo.blacklab/close-all-searchers! (get-in system [:components :blacklab]))
system
(keys system)
(cleebo.blacklab/close-all-searchers! (get-in system [:blacklab]))
(
)
(def x (zipmap [:a :b :c] (repeat (atom nil))))
x
repeat
(clojure.do repeat)
(clojure.doc repeat)
(def x (zipmap [:a :b :c] (repeatedly (fn [] (atom nil)))))
x
(reset)
(cleebo.blacklab/close-all-searchers! (get-in system [:components :blacklab]))
(run)
(cleebo.db.annotations/fetch-annotation (:db system) 2616461)
(cleebo.db.annotations/fetch-annotation (:db system) 2616461 2616465)
(keys (cleebo.db.annotations/fetch-annotation (:db system) 2616461 2616465))
(figwheel-sidecar.repl-api/reset-autobuild)
(figwheel-sidecar.repl-api/clean-builds)
(figwheel-sidecar.repl-api/stop-figwheel!)
(reset)
(run)
(reset)
(run)
(alembic.still/distill '[org.clojure/core.match "0.3.0-alpha4"])
(str "asd" "asd")
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(run)
(reset)
(run)
(reset)
(run)
(reset)
(stop)
(run)
(def x (atom {:a nil :b nil}))
(if-let [{:keys [a]} @x] [a])
(if-let [{:keys [a]} @x] [a] ["a"])
(if-let [{a :a} @x] [a] ["a"])
(if-let [a (:a @x)] [a] ["a"])
(if-let [a (:a {:a false})] a "b")
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(run)
(schema.core/check {:a :a} {:a :a})
(schema.core/check {:a schema.core/Keyword} {:a :a})
(schema.core/check {:a (schema.core/enum [:a])} {:a :a})
(reset)
(run)
\
(reset)
(run)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(run)
{2616378 {:anns [{:history [(not (map? a-clojure.lang.PersistentVector))]}]}} {:type :schema.core/error, :schema (maybe {Int {:anns [{:ann {:key Str, :value (conditional clojure.lang.Keyword {:IOB Str} clojure.core$constantly/fn--4614 Str)}, :timestamp Int, :username Str, (optional-key :history) [{:ann {:key Str, :value (conditional clojure.lang.Keyword {:IOB Str} clojure.core$constantly/fn--4614 Str)}, :timestamp Int, :username Str}]}], :_id Int}}), :value {2616378 {:anns [{:history [[{:_id 2616378, :anns [{:ann {:key "pos", :value "NN"}, :username "user", :timestamp 1457531784140}]}]], :timestamp 1457610431512, :username "user", :ann {:value "NNP", :key "pos"}}], :_id 2616378}, 2616380 {:anns [{:timestamp 1457525168715, :username "Hi!", :ann {:value "A", :key "nonA"}}], :_id 2616380}}, :error {2616378 {:anns [{:history [(not (map? a-clojure.lang.PersistentVector))]}]}}}
(let [{{:keys [a b]} :a} {:a {:a "a"}}] a)
[{:history [[{:_id 2616381, :anns [{:ann {:key "pos", :value "ART"}, :username "user", :timestamp 1457616053737}]}] [{:_id 2616381, :anns [{:ann {:key "pos", :value "A"}, :username "user", :timestamp 1457616125225, :history [[{:anns [{:timestamp 1457616053737, :username "user", :ann {:value "ART", :key "pos"}}], :_id 2616381}]]}]}] [{:_id 2616381, :anns [{:ann {:key "pos", :value "B"}, :username "user", :timestamp 1457616164830, :history [[{:anns [{:timestamp 1457616053737, :username "user", :ann {:value "ART", :key "pos"}}], :_id 2616381}] [{:anns [{:history [[{:_id 2616381, :anns [{:ann {:key "pos", :value "ART"}, :username "user", :timestamp 1457616053737}]}]], :timestamp 1457616125225, :username "user", :ann {:value "A", :key "pos"}}], :_id 2616381}]]}]}]], :timestamp 1457616206531, :username "user", :ann {:value "H", :key "pos"}}]
(def a [{:history [[{:_id 2616381, :anns [{:ann {:key "pos", :value "ART"}, :username "user", :timestamp 1457616053737}]}] [{:_id 2616381, :anns [{:ann {:key "pos", :value "A"}, :username "user", :timestamp 1457616125225, :history [[{:anns [{:timestamp 1457616053737, :username "user", :ann {:value "ART", :key "pos"}}], :_id 2616381}]]}]}] [{:_id 2616381, :anns [{:ann {:key "pos", :value "B"}, :username "user", :timestamp 1457616164830, :history [[{:anns [{:timestamp 1457616053737, :username "user", :ann {:value "ART", :key "pos"}}], :_id 2616381}] [{:anns [{:history [[{:_id 2616381, :anns [{:ann {:key "pos", :value "ART"}, :username "user", :timestamp 1457616053737}]}]], :timestamp 1457616125225, :username "user", :ann {:value "A", :key "pos"}}], :_id 2616381}]]}]}]], :timestamp 1457616206531, :username "user", :ann {:value "H", :key "pos"}}])
a
(count a)
(first a)
(:history (first a))
(count (:history (first a)))
(first (:history (first a)))
(second (:history (first a)))
(conj 1 [1])
(cons 1 [1])
(concat 1 [1])
(concat [1] [])
(get-in [:a :b)
(get-in [:a :b])
clojure.lang.LazySeq@408d9b10
(def db (:db system))
db
(cleebo.db.annotations/new-token-annotation db 2616378 {:username "a" :timestamp 0 :ann {:key "animate" :value "false"}})
(reset)
(cleebo.db.annotations/new-token-annotation db 2616378 {:username "a" :timestamp 0 :ann {:key "animate" :value "false"}})
(def db (:db system))
(cleebo.db.annotations/new-token-annotation db 2616378 {:username "a" :timestamp 0 :ann {:key "animate" :value "false"}})
(reset)
(def db (:db system))
(cleebo.db.annotations/new-token-annotation db 2616378 {:username "a" :timestamp 0 :ann {:key "animate" :value "false"}})
(reset)
(def db (:db system))
(cleebo.db.annotations/new-token-annotation db 2616378 {:username "a" :timestamp 0 :ann {:key "animate" :value "false"}})
(cleebo.db.annotations/new-token-annotation db 2616378 {:username "a" :timestamp 0 :ann {:key "animate" :value "true"}})
(run)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(update-in {:a {:b "b"}} [:a :b] "c")
(update-in {:a {:b "b"}} [:a :b] #("a"))
(update-in {:a {:b "b"}} [:a :b] (fn [a] "a"))
(update-in {:a {:b "b"}} [:a :b] (fn [a] "c"))
(update-in {:a {:b "b"}} [:a] (fn [a] (assoc a :b "c")))
cond->>
(clojure.repl/doc cond->>)
(let [x ["a" {:a "a" :b "b"}]] (clojure.core.match/match [x] ["a" {:a "a"}] :match))
(let [x ["a" {:a "a" :b "b"}]] (clojure.core.match/match [x] [["a" {:a "a"}]] :match))
(reset)
(run)
(restart)
(restart!)
(run)
(restart)
(reset)
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(run)
(:ws system)
(:clients (:ws system))
@(:clients (:ws system))
(seq @(:clients (:ws system)))
(doseq [[ws-name _] (seq @(:clients (:ws system)))] (println "a"))
(restart)
(reset)
(stop)
(run)
(reset)
(run)
(reset)
(run)
@(:clients (:ws system))
(reset)
(run)
@(:clients (:ws system))
(let [{{ws-out :ws-out} :chans clients :clients} (:ws system)] @clients)
(reset)
(run)
(reset)
(clojure.repl/doc update-in)
(reset)
(run)
(reset)
(clojure.repl/doc take!)
(clojure.repl/doc clojure.core.async/take!)
(clojure.repl/doc clojure.core.async/<!)
(reset)
(run)
(reset)
(run)
(reset)
(run)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(:blacklab system)
(:current-hits (:blacklab system))
@(:current-hits (:blacklab system))
(:current-hits (:blacklab system))
@(:current-hits (:blacklab system))
(@(:current-hits (:blacklab system)) "user")
(nth (@(:current-hits (:blacklab system)) "user") 1)
(get (@(:current-hits (:blacklab system)) "user") 1)
(.get (@(:current-hits (:blacklab system)) "user") 1)
(def hits (@(:current-hits (:blacklab system)) "user"))
hits
(def hit (.get hits 1))
hit
(.getConcordance hits hit 10)
(.left (.getConcordance hits hit 10))
(.left (.getConcordance hits "word" hit 10))
(.getConcordance hits "word" hit 10)
(.toString (.getConcordance hits "word" hit 10))
(.toString (.getConcordance hits hit 10))
(.left (.getConcordance hits hit 10))
(def m (.left (.getConcordance hits hit 10)))
m
(class m)
(nl.inl.util.XmlUtil/xmlToPlainText (.left (.getConcordance hits hit 10))))
(nl.inl.util.XmlUtil/xmlToPlainText (.left (.getConcordance hits hit 10)))
(nl.inl.util.XmlUtil/xmlToPlainText (.left (.getConcordance hits hit 50)))
(nl.inl.util.XmlUtil/xmlToPlainText (.left (.getConcordance hits hit 150)))
(nl.inl.util.XmlUtil/xmlToPlainText (.left (.getConcordance hits hit 150)) true)
(nl.inl.util.XmlUtil/xmlToPlainText (.match (.getConcordance hits hit 150)) true)
(class m)
(nl.inl.util.XmlUtil/xmlToPlainText (.match (.getConcordance hits hit 150)) true)
m
(-> (range 10) (partition 2))
(->> (range 10) (partition 2))
(->> (range 10) (partition 2) count)
m
(def c (.getConcordance hits hit 10))
c
(-> c (juxt .left .match .right))
(-> c (juxt #(.left) #(.match) #(.right)))
(-> c (juxt #(.left %) #(.match %) #(.right %)))
(-> c ((juxt #(.left %) #(.match %) #(.right %))))
(apply nl.inl.util.XmlUtil/xmlToPlainText (.match (.getConcordance hits hit 150)) true)
(apply #(nl.inl.util.XmlUtil/xmlToPlainText %) (.match (.getConcordance hits hit 150)) true)
(apply #(nl.inl.util.XmlUtil/xmlToPlainText %) (.match (.getConcordance hits hit 150)))
(apply #(nl.inl.util.XmlUtil/xmlToPlainText %) [(.match (.getConcordance hits hit 150))])
(apply nl.inl.util.XmlUtil/xmlToPlainText [(.match (.getConcordance hits hit 150))])
hits
(cleebo.b
(cleebo.blacklab.core/snippet
)
(in-ns 'cleebo.blacklab.core)
snippet
sort-range
(in-ns 'cleebo.core)
(reset)
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(cleebo.blacklab.core/snippet
)
(def m (.left (.getConcordance hits hit 10)))
(def hits (@(:current-hits (:blacklab system)) "user"))
(cleebo.blacklab.core/snippet hits 1 20)
(cleebo.blacklab.core/snippet hits 1 26)
(cleebo.blacklab.core/snippet hits 1 126)
(reset)
(run)
(reset)
(run)
(reset)
(run)
(reset)
(:clients (:ws system))
@(:clients (:ws system))
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(alembic.still/distill '[org.hackrslab/random-avatar "0.2.3"])
(stop)
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(new File (str "/resources/a.test"))
(new java.io.File (str "/resources/a.test"))
(org.hackrslab.avatar.RandomAvatar$Extra/seed "asd")
ls
(dissoc {:a "a" :v "b"} :a :b)
(dissoc {:a "a" :v "b"} :a :v)
(run)
(subvec [1,2,3] 1 2)
(subvec [1,2,3] 2)
(subvec [1,2,3] 0 2)
(subvec [1,2,3] 0 0)
(subvec [1,2,3] 0 1)
(subvec [1,2,3] 1)
(subvec [1,2,3] 0)
(subvec [1,2,3] 0 0)
(subvec [1,2,3] 0 2)
(sort [1 2])
(let [[a b] (sort [1 2])] [a b])
(let [[a b] (sort [1 nil])] [a b])
(- 2 nil)
(figwheel-sidecar.repl-api/reset-autobuild)
((juxt (partial map :id) (partial map :idx)) [{:id 1 :idx "1"} {:id 2 :idx "2"}])
(map vector [{:id 1 :idx "1"} {:id 2 :idx "2"}])
(subvec '(1 2 3) 2)
(subvec (vec '(1 2 3)) 2)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(+ 1 2)
(run)
(def sch {:a (s/conditional :b {:b s/Str} :else s/Str)})
(in-ns 'cleebo.shared-schemas
)
sch
(def sch {:a (s/conditional :b {:b s/Str} :else s/Str)})
(s/validate sch {:a {:b "a"}})
(s/validate sch {:a "a"})
(s/validate sch {:a {:b :a}})
(figwheel-sidecar.repl-api/reset-autobuild)
(run)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(:ws system)
@(:clients (:ws system))
(figwheel-sidecar.repl-api/reset-autobuild)
@(:clients (:ws system))
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(run)
(for [i (range 10) j (range i)] j)
(concat [1] [2] [[3] [4]])
(flatten [1] [2] [[3] [4]])
(flatten [[1] [2] [[3] [4]]])
(vec (flatten [[1] [2] [[3] [4]]]))
(flatten [1] [2] [[3] [4]])
(concat [1] [2] [[3] [4]])
(concat [:tr] [:tr] [[:tr] [:tr]])
(concat [[:tr] [:tr]] [:tr] [:tr] )
(into [[:tr] [:tr]] [:tr] [:tr] )
(into [[:tr] [:tr]] [[:tr] [:tr]])
(into [[:id :tr] [:id :tr]] [[:id :tr] [:id :tr]])
(run)
(figwheel-sidecar.repl-api/cljs-repl)
:cljs/quit
(update-in {:a {:b "b"}} [:a] merge true)
(update-in {:a {:b "b"}} [:b] merge true)
(merge {:a {:b "b" :c "c"}} {:a {:b "B"}}})
(merge {:a {:b "b" :c "c"}} {:a {:b "B"}})
(defn deep-merge
   "Recursively merges maps. If keys are not maps, the last value wins."
   [& vals]
   (if (every? map? vals)
     (apply merge-with deep-merge vals)
     (last vals)))
(deep-merge {:a {:b "b" :c "c"}} {:a {:b "B"}})
(def x (atom 10))
(swap! x + 10)
(figwheel-sidecar.repl-api/reset-autobuild)
(type 1)
(defmulti a (fn [x] (type x)) )
(defmethod a [String] "Str")
(defmethod a [String] [x] "Str")
(a "a"0
)
(a "a")
(flatten [1] [2] [[3] [4]])
(figwheel-sidecar.repl-api/cljs-repl)
js/typeof
(def x "a")
(type x)
(= js/String (type x))
(= js/String (type ["a"]))
(= js/Array (type ["a"]))
(type ["a"])
(= cljs.core/PersistentVector (type ["a"]))
(type 1)
(= js/Number (type 1))
(type {"A" 1})
(def vect cljs.core/PersistentVector)
(= vect (type ["a"]))
(apply = [1 1 1 1 1])
:cljs/quit
schema.core/either
(def x {:a (schema.core/either schema.core/Keyword schema.core/String)})
(def x {:a (schema.core/either schema.core/Keyword schema.core/Str)})
x
(schema.core/validate x {:a "a"})
(schema.core/validate x {:a 1})
(schema.core/validate x {:a :b})
(def x {:a (schema.core/either schema.core/Str [schema.core/Str])})
(schema.core/validate x {:a ["a" "b"]})
PersistentVector
clojure.core.PersistentVector
clojure.lang.PersistentVector
clojure.lang.
(type 1)
(type ["1"])
(map vector (range 5) (range 5 10))
(run)
(reset)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(:ws system)
(keys (:ws system))
(:chans (:ws system))
(clojure.repl/doc defn)
(clojure.repl/doc vec)
(take 1 (repeatedly 10))
(take 1 (repeat 10))
(take 10 (repeat 10))
(type (repeat 10))
(->> (range 10) (map #(+ % %2) (range 10 20)))
(->> (range 10) (map #(+ % %2) #(repeat 8)))
(->> (range 10) (map #(+ % %2) (repeat 8)))
(->> (range 10) (map + (repeat 8)))
(->> (range 10) (map + (repeat 18)))
(clojure.repl/doc group-by)
(figwheel-sidecar.repl-api/reset-autobuild)
(clojure.repl/doc format)
(format "a string [%s] and a digit [%s]" "a" 2)
(use 'schema)
(alembic.still/distill '[prismatic/schema-generators "0.1.0"])
(apply merge-with (fn [acc x]
                    (if (vector? x)
                      (conj acc x)
                      (into acc x)))
       [{:a "a1" :b "b1" :c "c1"}
           {:a "a2" :b "b2" :c "c2"}
           {:a "a3" :b "b3" :c "c3"}
           {:a "a4" :b "b4" :c "c4"}])
(run)
(figwheel-sidecar.repl-api/reset-autobuild)
(reset)
(let [{:keys [a]} ["1"])
(let [{:keys [a]} ["1"]] a)
(let [{:keys [a]} 1] a)
(let [{:keys [a]} '(1)] a)
(reset)
